"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ErrorInsufficientBalance = void 0;
const utils_1 = require("../utils");
const base_1 = require("./base");
const codes_1 = require("./utils/codes");
/**
 * Error class for handling cases when a user's balance is insufficient for a specified operation.
 */
class ErrorInsufficientBalance extends base_1.ErrorBase {
    /**
     * Explicitly sets the error name for easier identification in error handling processes.
     */
    name = 'ErrorInsufficientBalance';
    /**
     * Constructs an ErrorInsufficientBalance with a detailed message about the shortage.
     * @param userBalance - The current balance .
     * @param neededBalance - The balance required to successfully perform the operation
     * @param cause - Optional error object that triggered this error, useful for chaining errors.
     */
    constructor({ userBalance, neededBalance, cause, }) {
        super(`Insufficient balance for the operation. User has ${(0, utils_1.formatMas)(userBalance)} MAS, but ${(0, utils_1.formatMas)(neededBalance)} MAS is needed.`, {
            code: codes_1.ErrorCodes.InsufficientBalance,
            cause,
        });
    }
}
exports.ErrorInsufficientBalance = ErrorInsufficientBalance;
